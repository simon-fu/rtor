use std::{collections::HashSet, sync::Arc};

/// cat ~/.rtor-proxy/storage/rtor/reachable_relays.txt | grep "GUARD" | grep "V2DIR" | grep "HSDIR" | grep "EXIT" | grep "STABLE" | grep "RUNNING" | grep "VALID" | grep "FAST"  > /tmp/guards.txt

use crate::scan::{OwnedRelay, HashRelay};


const FALLBACKS_STR: &str = r#"
{"addrs":["185.244.192.155:9000","[2a03:4000:27:5d:34ac:82ff:feb6:2d2c]:9000"],"ids":{"ed25519":"FK7SwWET47+2UjP1b03TqGbGo4uJnjhomp4CnH7Ntv8","rsa":"1e3c197c8c922128ff049856e0536ff9cb4e5e8c"},"ntor_onion_key":[22,144,221,114,151,128,179,242,145,107,89,156,124,241,193,191,99,114,51,28,102,33,184,82,65,70,99,4,92,11,57,50],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["199.195.249.214:9001"],"ids":{"ed25519":"LpY+ZT2lYS/m8rVNpijZFIfSafLeEq9Xl2ZirYe5jsg","rsa":"48d53d35173a4ef18e37682f0223a296177d74e0"},"ntor_onion_key":[69,31,38,255,224,99,91,122,154,185,11,206,230,4,146,200,29,126,59,116,169,248,176,247,120,25,145,18,216,123,45,43],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1 HSDir=1-2 HSIntro=3-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-3","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["23.128.248.97:443","[2602:fc05::5853:f7ff:fe2e:8818]:443"],"ids":{"ed25519":"3JJQPbCbReEjQCHgxoQgpiYMJyuo6T7el6bUGmGeb8A","rsa":"b4bb9b970c7ebfb021056c192c4337e8285517c9"},"ntor_onion_key":[29,182,238,27,2,91,0,180,162,49,87,81,223,147,213,164,214,38,43,134,110,238,17,215,167,74,200,185,49,50,22,81],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["171.25.193.80:80","[2001:67c:289c:4::79]:80"],"ids":{"ed25519":"l1xoLm4LxQ+ERWq+UnrCf34XyK7j3HkZxddT2KFlZ5Q","rsa":"491b4e55b4fd4fdec63b229b0a3e59868fca1f1f"},"ntor_onion_key":[63,128,106,138,45,190,210,244,6,85,67,252,66,134,255,0,28,57,87,190,59,115,131,248,34,62,29,83,179,144,180,27],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["23.137.249.143:9001","[2602:fc24:11:1fa2:23:137:249:143]:9001"],"ids":{"ed25519":"ZBA7yTUc5UIw2Goow6bhy6+MXbNvOljgtf/kM7kO7X8","rsa":"6859d71e3e1323f959f9e0559e83a9088c462684"},"ntor_onion_key":[21,76,245,90,97,159,177,55,136,216,254,253,96,210,15,108,154,195,243,213,78,29,201,132,33,144,92,175,51,212,88,125],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-3","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["171.25.193.79:80","[2001:67c:289c:4::80]:80"],"ids":{"ed25519":"IcrBL6Sq/7lgff8tJFhPu1PVeQu9JuEy+n+Kijidnyw","rsa":"d416f7c8d83cad913f3e09320014170d54fe6aa0"},"ntor_onion_key":[114,125,106,168,76,158,98,18,72,64,43,52,212,128,231,166,234,204,36,160,152,179,220,94,227,103,203,191,120,144,127,108],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.40.46:9100","[2a03:4000:17:5c:24df:84ff:fe54:82aa]:9100"],"ids":{"ed25519":"jQmg5XckgPhw/+sYQSK7kGcW3deYGAlwBhse45fwUlI","rsa":"2efc2b8bc724cf435c14066087936be7ca3c57a3"},"ntor_onion_key":[165,169,95,148,104,133,54,146,142,236,179,243,11,31,229,85,206,55,236,222,151,129,17,95,179,199,246,123,169,150,40,119],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.56.83.83:9001","[2a06:e80:3000:1:bad:babe:ca11:911]:9050"],"ids":{"ed25519":"CslioD2/XSUke76r1AkBxGdAj7tDOIL+O8jrvMKL1zk","rsa":"cbcc85f335e20705f791cfc8685951c90e24134d"},"ntor_onion_key":[234,146,11,179,216,191,246,154,147,51,112,221,111,126,209,93,73,118,133,83,133,129,82,106,91,170,54,27,240,87,12,47],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["5.45.104.112:9100","[2a03:4000:6:1041:54c7:a2ff:fec2:107]:9100"],"ids":{"ed25519":"dAYsGtf3VJJmM6maVf9tkK/DWfe+E5WHAarCxAAKtJ0","rsa":"59a5bacfe32b6ca0f8f67b6621b3e8b89312cb7a"},"ntor_onion_key":[19,111,145,18,213,191,238,124,163,169,161,32,154,210,84,78,39,117,180,57,132,55,151,167,51,211,34,99,29,160,148,18],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.32.101:9100","[2a03:4000:10:42:896:37ff:fe75:d532]:9100"],"ids":{"ed25519":"VwZukOP0/iTfT+wYaDNY3MMLbnCmPcfl7QZjBb6W/oQ","rsa":"8ab766fb1be54669559b82165964b8d79da80119"},"ntor_onion_key":[218,230,43,0,161,51,134,4,139,130,110,84,109,241,150,114,111,30,57,69,208,253,101,219,188,99,127,245,99,86,225,66],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.244.192.155:9100","[2a03:4000:27:5d:34ac:82ff:feb6:2d2c]:9100"],"ids":{"ed25519":"qxu2ML/lM5s4DspcTOa9+c9oBw2XmW0BnYxWavFh2DY","rsa":"eef40b4cddaa8f674685491e45e9399179aa1832"},"ntor_onion_key":[24,45,1,187,214,100,56,142,70,17,166,135,101,138,224,24,133,20,175,18,111,66,96,58,155,28,159,66,182,119,234,98],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.125.171.199:9001","[2a03:94e0:ffff:185:125:171:0:199]:9001"],"ids":{"ed25519":"MacxRg4SFQxPFq9wsnl7PZceb849RK6u6tmHZwU5jFw","rsa":"5d575add108ddbbf17e78ad8cb267d6c1f338206"},"ntor_onion_key":[251,241,143,40,139,14,204,66,130,180,233,24,59,153,184,162,249,117,110,66,143,79,79,160,95,67,20,198,181,47,175,75],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["37.221.198.3:9100","[2a03:4000:9:26:6831:11ff:fe02:b39]:9100"],"ids":{"ed25519":"ofizzSYKk7RnNT5nOpjLeoRvX3aOgHLT5PAo+OPq7fw","rsa":"b676e8fec1109cda42426aea0c6ebf5490dbc85b"},"ntor_onion_key":[178,87,7,217,121,185,234,51,204,86,158,247,15,169,24,170,47,183,222,15,45,23,62,63,203,25,197,53,47,190,174,97],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["88.208.215.64:9000","[2a00:da00:1800:8162::1]:9000"],"ids":{"ed25519":"h11/Ziyy0cwzR+gQ34IODao1ePIP0YhjhrXkGTVPcew","rsa":"de9317a1c4b5a95afe78ecac82b5db6a7018b36b"},"ntor_onion_key":[82,245,246,177,64,29,237,152,30,52,239,160,247,109,227,88,168,33,145,63,105,238,115,133,65,78,57,71,156,251,146,10],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.51.44:9100","[2a03:4000:6:d05f:78d7:1fff:fe72:3992]:9100"],"ids":{"ed25519":"MQlKb0UzkTjlcNOzZ1QZEJAzYV5AX75oJKYDUTC2SH0","rsa":"72aa4cf891689332d9473a4e0140f83db2210548"},"ntor_onion_key":[135,24,194,69,78,17,99,243,1,134,167,6,206,93,85,190,47,103,185,164,158,6,241,49,188,90,107,154,111,240,118,97],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["5.255.104.207:443"],"ids":{"ed25519":"UR/6ijBrUCaZlun4bgnOT3YwVZkP1pTt6K/QXNAIi6c","rsa":"4229771abc2e6de3297a251912a9e916b99efc83"},"ntor_onion_key":[136,182,163,180,236,130,131,165,141,231,218,1,110,16,243,240,114,114,43,101,252,190,223,159,159,151,232,43,174,135,138,19],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["92.205.129.7:443"],"ids":{"ed25519":"KVmymXr6F/tf8BhHPlT6i6VJ3yx3RJUwQFPLuqDjQ74","rsa":"cbf59ec5b9fd108092ae9149efdae41f882da669"},"ntor_onion_key":[165,44,155,65,98,123,109,228,66,104,74,68,93,144,46,59,240,202,27,221,169,229,250,71,44,212,10,86,10,180,28,0],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.49.3:9000","[2a03:4000:6:d071:58e6:20ff:fe64:8f7b]:9000"],"ids":{"ed25519":"UTGW7WcMOlkhmeuP9QFRDNfdmipjJASOpoHwETtl0bo","rsa":"ab7366925c446424e7ee33179beab4b12d8696b6"},"ntor_onion_key":[254,87,87,41,146,45,37,243,56,117,45,114,171,220,180,21,88,226,138,194,210,115,32,114,242,186,132,111,33,193,155,112],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["77.68.3.133:9000","[2a00:da00:1800:21d::1]:9000"],"ids":{"ed25519":"oPzMyWJlTHUZLpodIralQuu++CC0RF/YTsC/j77DN8M","rsa":"035f813195f0cb9f567edfdf60c6745ca36ba0bd"},"ntor_onion_key":[206,199,172,204,149,189,78,129,111,40,186,154,202,116,85,243,114,183,216,219,136,67,17,101,76,5,242,146,96,110,13,124],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.138.41.57:443"],"ids":{"ed25519":"PNWlL009fSfsFsQS3ozfu2y7lqGuesNg5gviPSevw48","rsa":"cb20023709129fc3a313fb7f3568d6564dd3b340"},"ntor_onion_key":[7,3,154,192,17,144,255,23,152,70,246,251,135,30,95,179,93,27,205,144,23,198,179,77,243,211,2,46,150,91,203,63],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["77.68.3.133:9100","[2a00:da00:1800:21d::1]:9100"],"ids":{"ed25519":"XmGL8jmoio9DBbGlXiEAs07pjJCJqTk6IdkDftg/5Os","rsa":"e785813fbbd352664bc1f133ce31a54ef596c5bd"},"ntor_onion_key":[203,111,161,22,147,157,10,225,64,10,199,39,200,17,91,22,243,70,4,78,249,197,98,169,118,20,77,208,60,38,167,70],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["184.105.146.51:9001","[2001:470:13f::90]:9001"],"ids":{"ed25519":"Ixi3odIVaASMH+bhpm+axi1Le2h8wu9yBjJw0nDgcFk","rsa":"06660a20307e226619eff2a933d2579e7644df83"},"ntor_onion_key":[219,160,60,139,44,106,242,20,207,1,181,139,72,196,121,137,30,48,229,191,88,63,253,187,29,12,77,10,191,19,203,19],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.138.41.56:443"],"ids":{"ed25519":"PrHUbhDxYoqKW2ajUn6Ox1yVmWk0s9WJqj2S4ERJjX8","rsa":"d25610bfe30b0cd7c2266eadd7ef58612f0a1ea4"},"ntor_onion_key":[207,40,127,20,177,238,84,144,156,1,114,178,150,68,183,210,13,78,200,51,0,56,101,178,87,33,34,191,253,250,53,98],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["184.105.146.51:9002","[2001:470:13f::91]:9001"],"ids":{"ed25519":"V3T8Rr6KVm5oDavfHn3aCtnjTrVPLO30RutbYgQhbgo","rsa":"7116bc929c055df03cced9fdeea8f9675b651521"},"ntor_onion_key":[149,99,203,59,62,90,176,239,52,241,185,16,38,222,17,40,4,174,64,39,242,120,203,166,60,74,20,65,167,249,95,99],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.248.101.215:9001"],"ids":{"ed25519":"Ux57ywk4TBkAPawSzcABQi1Vtsztm2OALSCT/rqLkEk","rsa":"f20c346711744a639aeb69e6aec941f876c81db2"},"ntor_onion_key":[49,199,114,217,220,185,2,239,70,238,158,172,27,247,84,62,243,127,69,250,51,173,187,231,54,174,234,110,204,171,46,10],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.52.231:9100","[2a03:4000:6:e047:6494:62ff:fe3f:85b8]:9100"],"ids":{"ed25519":"gjsF3C6M3T9H6D2u3ZONr+PxzMBCtUPzIVL7qGY6dvE","rsa":"eafe87655a056f276298ce17a0d8fabee3b20f49"},"ntor_onion_key":[107,137,88,55,36,156,187,227,130,211,175,96,118,92,117,238,233,226,10,225,81,71,239,240,47,233,62,21,61,162,219,11],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.40.46:9000","[2a03:4000:17:5c:24df:84ff:fe54:82aa]:9000"],"ids":{"ed25519":"9zIKrVYylJM4edfy+dlk+R3VhWlBVSrFQA8jVSRwEtQ","rsa":"8e477758547f612659bd2864c91d641452833369"},"ntor_onion_key":[55,0,247,154,34,66,144,211,123,104,218,215,64,104,207,184,127,238,184,66,168,54,155,133,63,146,43,227,175,33,110,66],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.155.96.161:443"],"ids":{"ed25519":"FgXVgMvpDYAf1VLExxFffBhfAtBvT0P5OoVOS9LGJ0c","rsa":"83bfb270f01939b37b0d89af28e2a32f888fa02b"},"ntor_onion_key":[129,50,107,87,124,243,185,210,13,223,211,9,35,85,194,199,126,44,106,76,150,20,39,195,42,255,30,131,153,204,97,30],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.32.101:9000","[2a03:4000:10:42:896:37ff:fe75:d532]:9000"],"ids":{"ed25519":"jNC3cyDSkfVrxtzOfLMvFpjUSMz0YyeWY1TMBhNK0Aw","rsa":"a4f42ae65f11634c42a3f3952e719f47091bd36f"},"ntor_onion_key":[99,24,187,255,190,121,216,17,23,223,178,136,161,2,219,45,174,80,24,146,62,25,93,148,5,50,178,33,236,133,177,107],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["107.189.8.181:443","[2605:6400:30:f49b:e2ee:34f8:c854:6f63]:443"],"ids":{"ed25519":"0Zv1Uw2dsyP2Se2mO1ljqUhata+/MusH2dwnoz2EHFM","rsa":"db451037c23af3d028ae1b7e2f82be5ca77b98a5"},"ntor_onion_key":[138,23,115,220,185,73,93,215,104,101,248,204,118,40,228,60,109,177,151,51,244,173,86,77,90,225,33,175,116,98,106,75],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.207.107.130:9000","[2a03:4000:1e:81:c835:7dff:fe90:3ed5]:9000"],"ids":{"ed25519":"lCxjgW2Nr6mOf5teNTEVh4PyNC+0b4xcgMAAo9Zsna0","rsa":"8d1154214bd6151f0427d4a158e71d62e21e0766"},"ntor_onion_key":[127,211,81,47,204,93,150,41,2,228,213,173,21,32,123,15,196,106,17,228,160,78,133,65,251,100,41,115,138,85,212,80],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["144.172.118.66:9001"],"ids":{"ed25519":"96bX7NU2SpspvulsldUmIKt+1Nd29b/X/E7c71WRGHY","rsa":"50089e89d56937fab2a06f09d1afbb876eb76f26"},"ntor_onion_key":[200,102,130,253,30,4,246,54,169,74,180,235,140,82,150,245,27,168,162,106,57,191,243,10,94,147,220,124,131,175,169,52],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1 HSDir=1-2 HSIntro=3-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-3","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.51.44:9000","[2a03:4000:6:d05f:78d7:1fff:fe72:3992]:9000"],"ids":{"ed25519":"dvM8MmBUPV9uiotPQlis6qMOcSARNxGamzFdkhlydd8","rsa":"ac249c56c11fddfa9e8de56b182b13ac8a4672be"},"ntor_onion_key":[90,112,40,183,179,59,218,218,191,204,255,163,75,46,62,191,75,173,187,174,179,115,234,161,27,84,247,151,52,2,219,34],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["5.45.104.112:9000","[2a03:4000:6:1041:54c7:a2ff:fec2:107]:9000"],"ids":{"ed25519":"TipUY3Pag9HRNflLHLlXaePDfaCMUVLOMHabRN3nU6g","rsa":"31ab04a3080091feccafd6b02b3d46be9db82fe5"},"ntor_onion_key":[4,122,159,213,88,125,47,4,51,171,43,116,55,56,125,180,119,100,150,63,51,163,201,184,46,209,96,126,43,115,149,22],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.214.104.21:80"],"ids":{"ed25519":"MH1LBiYyrJkqwo6JKj9f+F8X8L8bxeQlub1ZD08tU0w","rsa":"77b87d2a3a55163170733483967910862236e6d2"},"ntor_onion_key":[99,193,214,203,37,175,201,237,173,208,229,180,60,200,171,111,92,65,194,189,90,173,189,145,219,111,207,76,127,242,211,20],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["45.141.215.92:9001"],"ids":{"ed25519":"IDgydx1q1U1EgM+v2G3ck7oLqgeDN7tQN3P2kF/3vvY","rsa":"feaa7c802dbd6778d531c5cbcdfb2e5be84ba2cb"},"ntor_onion_key":[20,223,79,64,231,209,151,196,86,222,62,50,131,166,182,85,3,29,231,238,216,197,21,198,108,185,228,162,224,70,25,87],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.52.231:9000","[2a03:4000:6:e047:6494:62ff:fe3f:85b8]:9000"],"ids":{"ed25519":"eDYimnpCt/EShlLEhECelVMX3spECBcSE9cY139fRy0","rsa":"96b7e4a8f633fc105af6032d13211e5d576a44d9"},"ntor_onion_key":[76,101,147,117,196,135,115,165,21,175,105,2,82,130,155,239,24,19,161,115,216,163,173,60,56,43,73,247,52,218,2,65],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.228.136.146:9100","[2a03:4000:23:50:c8ed:bcff:fe13:ee61]:9100"],"ids":{"ed25519":"u2XkpOorjtuFBGGz7JUvg7xMpfTAoCTIUdynckJwWrk","rsa":"f0d01eb1fdc508279ab3412af3fc950bb1da2ad1"},"ntor_onion_key":[140,90,252,1,72,132,21,255,30,244,39,143,37,239,57,186,234,149,10,231,202,77,108,55,207,112,103,199,147,178,106,71],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["188.68.49.3:9100","[2a03:4000:6:d071:58e6:20ff:fe64:8f7b]:9100"],"ids":{"ed25519":"e67Tq+d+9HVuud1j12Q9mFvtdz3Apy70/hHLfolB5Cc","rsa":"a15676f5f0f2ba7b1ca54446ddb46bee6f699a95"},"ntor_onion_key":[13,57,62,153,174,21,73,92,228,78,153,186,218,109,209,91,124,77,141,214,199,64,239,137,117,88,69,156,172,188,97,69],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["88.208.215.64:9100","[2a00:da00:1800:8162::1]:9100"],"ids":{"ed25519":"41qlHf9ZGJyI2CTbltFmVZX0b0JQxzZQ8c6ZG8LgyE0","rsa":"bc080ac0d2f757863f3e3f148c268e5c8584e8af"},"ntor_onion_key":[249,146,218,249,8,104,134,30,35,223,176,232,103,26,223,13,226,0,209,232,11,253,110,11,72,146,80,238,96,117,21,38],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["37.221.198.3:9000","[2a03:4000:9:26:6831:11ff:fe02:b39]:9000"],"ids":{"ed25519":"vjq8Ky7bW2y8pHgz5I4cCPh2eUmNkedcfrCnAEznk30","rsa":"e84f41fa1d1fa303fd7a99a35e50acef4269868c"},"ntor_onion_key":[116,245,181,52,242,210,219,209,203,130,42,57,133,190,167,1,2,206,219,186,106,148,150,148,187,13,230,196,172,250,104,63],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["149.56.22.133:443","[2607:5300:61:785::]:443"],"ids":{"ed25519":"5nHccFo2jQ2b7PDxEdY5vNcPn++nHZJRW32SbLJMqnQ","rsa":"2946159cf9d8eaeb8c4a27f6a54b01a459dee164"},"ntor_onion_key":[33,77,226,211,184,5,221,136,202,197,218,12,240,86,104,255,221,77,109,148,90,201,41,188,45,226,74,122,173,151,196,123],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["46.167.244.125:443"],"ids":{"ed25519":"5U5ngtRPQUc/xPOAzb0RgFw1QIl+on68lLvjU9sKP3Y","rsa":"935b2dda88eaf3e38cb8164d7ba51b56b86173c3"},"ntor_onion_key":[48,63,80,121,116,19,227,66,121,200,229,235,143,160,142,160,242,162,0,16,255,203,132,145,3,217,70,210,141,64,107,45],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["87.120.8.68:443"],"ids":{"ed25519":"RO1ZO74vGZ/iomHaa3pAiB3XpDrDHHe6Ja+O+t5sMG8","rsa":"5f4bcbc6e20ae074340d0a743e6f2ea4b51b09c1"},"ntor_onion_key":[224,131,250,57,139,175,143,178,207,95,131,216,253,148,141,82,129,123,154,49,189,34,113,133,118,128,161,37,112,219,8,33],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["198.140.141.30:9001","[2a03:94e3:ffff:198:140:141:0:30]:9001"],"ids":{"ed25519":"hBHbyRbMhS4ODX6r2WDnKgvVA3OdLQpbKpUU3aTtPSE","rsa":"61866162ccdfe651b0d76aa57eca90b9cc7c80dd"},"ntor_onion_key":[115,200,147,245,214,162,187,149,66,29,155,197,117,2,36,224,246,40,255,132,188,153,51,114,129,220,225,78,96,98,204,15],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["171.25.193.80:443","[2001:67c:289c:4::79]:443"],"ids":{"ed25519":"GOTEX4TWj1lJ5mpG7rTYF3hIyEHpQ8CjYgmgDb1eUXk","rsa":"dcb7d52c94256353ba271b8b77699948aa79b284"},"ntor_onion_key":[70,209,67,118,174,52,201,125,203,225,115,6,82,101,91,37,245,201,159,44,61,209,253,110,138,209,244,106,23,106,180,53],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.228.136.146:9000","[2a03:4000:23:50:c8ed:bcff:fe13:ee61]:9000"],"ids":{"ed25519":"ciWaq9i2Xj4qVPcx9pLfRP9b6J9T1ZwEnC83blSpUcc","rsa":"27fae99c0dba8cd9dbfe42d2d2464b4c68eeb00d"},"ntor_onion_key":[240,98,170,67,61,151,13,91,77,48,78,38,171,228,70,226,148,53,235,31,120,71,251,183,175,74,5,56,127,58,11,43],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["185.207.107.130:9100","[2a03:4000:1e:81:c835:7dff:fe90:3ed5]:9100"],"ids":{"ed25519":"4ZCy3UqpyBGg8twoVRqJclvWjRZ3eXNKvlT0VszI0KM","rsa":"c5468734b56b5806aa076ec61cd00822534c24b0"},"ntor_onion_key":[73,171,176,18,95,234,222,141,74,242,247,227,87,151,97,212,133,216,33,183,133,158,212,174,84,156,109,185,91,42,41,27],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
{"addrs":["171.25.193.79:443","[2001:67c:289c:4::80]:443"],"ids":{"ed25519":"w2j7gp0fAqDOsHt8ruIJM6wdFZz3/UEMiH4MGw3behE","rsa":"30a77b24f25ecb28d2743cd8ad422e5c52aee98f"},"ntor_onion_key":[15,172,254,143,62,115,152,12,176,192,160,221,233,166,43,18,61,250,129,165,169,27,185,21,131,70,151,36,67,57,224,38],"protovers":"Cons=1-2 Desc=1-2 DirCache=2 FlowCtrl=1-2 HSDir=2 HSIntro=4-5 HSRend=1-2 Link=1-5 LinkAuth=1,3 Microdesc=1-2 Padding=2 Relay=1-4","flags":{"num":3772,"desc":"EXIT | FAST | GUARD | HSDIR | STABLE | RUNNING | VALID | V2DIR"}}
"#;

pub fn relays() -> &'static HashSet<HashRelay> {
    lazy_static::lazy_static!(
        static ref INSTANCE: HashSet<HashRelay>  = {
            let split = FALLBACKS_STR.split("\n");
            let mut relays = HashSet::with_capacity(64);
            for s in split {
                if !s.is_empty() {
                    let relay: OwnedRelay = serde_json::from_str(s).unwrap();
                    relays.insert(HashRelay(Arc::new(relay)));
                }
            }
            relays
        };
    );
    &*INSTANCE
}

pub fn into_iter() -> impl Iterator<Item=Arc<OwnedRelay>> {
    relays().iter().map(|v|v.0.clone())
}
